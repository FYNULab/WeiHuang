
/***************************************************************************************************    
工程名称：	IRQ_ext
功能描述：	按下按键S17，LED发光二极管加1
硬件连接：  用8位杜邦线将J8与J13连接,用1位杜邦线将J7_S17与J9_3连接
维护记录：  2011-8-22
***************************************************************************************************/
#include "reg51.h"       //包含头文件

#define uchar unsigned char
#define uint  unsigned int
 
uchar num;              //定义变量
//**************************************************************************************************
//外部中断1中断子程序
//**************************************************************************************************
int0() interrupt 2 using 1
{
  num++;       //中断一次加1
  P1=~num;     //用LED显示
}
//**************************************************************************************************
//主函数
//**************************************************************************************************
main()
{
  IT1=1;       //边沿触发
  EX1=1;       //开中断1
  EA=1;        //开总中断

  while(1);    //等待中断产生，按下S17按键产生中断信号
}