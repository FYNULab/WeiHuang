C51 COMPILER V7.06   MAIN                                                                  07/28/2012 15:55:44 PAGE 1   


C51 COMPILER V7.06, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN main.OBJ
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE main.c BROWSE DEBUG OBJECTEXTEND

stmt level    source

   1          
   2          /***************************************************************************************************    
   3          工程名称：      bz_yd
   4          功能描述：      控制蜂鸣器使之发出7种不同的音调 
   5          硬件连接：  用1位杜邦线将J10_0与J18_bz连接
   6          维护记录：  2011-8-22
   7          ***************************************************************************************************/
   8          #include<reg51.h>               //包含头文件
   9          sbit BZ=P0^0;                   //定义蜂鸣器控制管脚        
  10          #define uchar unsigned char     
  11          #define uint unsigned int
  12           
  13          uint code SOUNDTONE[]=         //定义7种不同的频率实现7种音调
  14                                {262,294,329,350,392,440,495}; 
  15          
  16          //**************************************************************************************************
  17          //延时函数
  18          //**************************************************************************************************
  19          delay(uint time)              //int型数据为16位,所以最大值为65535            
  20           {
  21   1        uint  i,j;                  //定义变量i,j,用于循环语句 
  22   1        for(i=0;i<time;i++)         //for循环,循环50*time次
  23   1           for(j=0;j<50;j++);       //for循环,循环50次
  24   1       }
  25          //**************************************************************************************************
  26          //播放音调
  27          //**************************************************************************************************
  28          void Play_yd()                          
  29          {
  30   1        uint Tone;                      //定义音调变量
  31   1        uint i,j,k;                     //定义
  32   1           for(i=0;i<7;i++)                     //7种音调循环
  33   1            {
  34   2             Tone=SOUNDTONE[i];         //读取音调
  35   2             for(j=0;j<1000;j++)        //输出n次同频率
  36   2              {
  37   3                 BZ=0;                  //关闭蜂鸣器
  38   3                 for(k=0;k<Tone;k++);   //Tone的不同来区分7种音调
  39   3                 BZ=1;                  //打开蜂鸣器
  40   3                 for(k=0;k<Tone;k++);   //Tone的不同来区分7种音调
  41   3              }
  42   2            }
  43   1      }
  44          //**************************************************************************************************
  45          //主函数
  46          //**************************************************************************************************
  47          void main()
  48          {
  49   1       while(1)
  50   1        {
  51   2         Play_yd();                     //播放7种音调
  52   2         BZ=0;                          //关闭蜂鸣器
  53   2         delay(10000);                  //关闭蜂鸣器时间
  54   2        }
  55   1      }
C51 COMPILER V7.06   MAIN                                                                  07/28/2012 15:55:44 PAGE 2   



MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    135    ----
   CONSTANT SIZE    =     14    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
